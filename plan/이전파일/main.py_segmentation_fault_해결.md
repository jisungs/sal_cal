# ğŸ“„ main.py Segmentation Fault í•´ê²° ë³´ê³ ì„œ

**ì‘ì„±ì¼**: 2025-11-12  
**ë¬¸ì œ**: `python main.py` ì‹¤í–‰ ì‹œ segmentation fault ë°œìƒ  
**ìƒíƒœ**: âœ… í•´ê²° ì™„ë£Œ

---

## ğŸ” ë¬¸ì œ í˜„ìƒ

í„°ë¯¸ë„ ë¡œê·¸:
```
2025-11-12 11:44:06,841 - INFO - í•œê¸€ í°íŠ¸ ë“±ë¡ ì™„ë£Œ
2025-11-12 11:44:06,869 - INFO - matplotlib í°íŠ¸ ì„¤ì • ì™„ë£Œ: AppleGothic (í”Œë«í¼: Darwin)
2025-11-12 11:44:06,872 - INFO - í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ë°”ì¸ë”© ì™„ë£Œ
2025-11-12 11:44:07,022 - INFO - ì—‘ì…€ íŒŒì¼ ì½ê¸° ì‹œì‘
2025-11-12 11:44:07,028 - INFO - ì—‘ì…€ íŒŒì¼ ì½ê¸° ì™„ë£Œ: 4í–‰
2025-11-12 11:44:07,034 - INFO - ì‹¤ì œ ì´ë ¥ ë°ì´í„° ì‚¬ìš©: 1ê°œì›”
2025-11-12 11:44:07,128 - INFO - ëŒ€ì‹œë³´ë“œ ë°ì´í„° ë¡œë“œ ì™„ë£Œ: 4ëª…
2025-11-12 11:44:07,130 - INFO - ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘
[1]    11129 segmentation fault  python3 main.py
```

---

## ğŸ” ì›ì¸ ë¶„ì„

### ë¬¸ì œ ì›ì¸

**`setup_matplotlib_font()` ë©”ì„œë“œì—ì„œ GUI ì´ˆê¸°í™” ì „ì— `plt.figure()` í˜¸ì¶œ**

```python
# ë¬¸ì œê°€ ìˆë˜ ì½”ë“œ
def setup_matplotlib_font(self):
    # ...
    test_fig = plt.figure(figsize=(1, 1))  # âš ï¸ GUI ì´ˆê¸°í™” ì „ì— figure ìƒì„±
    test_ax = test_fig.add_subplot(111)
    test_ax.text(0.5, 0.5, 'í…ŒìŠ¤íŠ¸', fontsize=10)
    plt.close(test_fig)
```

**ì™œ ë¬¸ì œê°€ ë°œìƒí–ˆë‚˜?**

1. **matplotlib ë°±ì—”ë“œ ì¶©ëŒ**: 
   - tkinter GUIê°€ ì´ˆê¸°í™”ë˜ê¸° ì „ì— matplotlib figureë¥¼ ìƒì„±í•˜ë©´ ë°±ì—”ë“œê°€ ì œëŒ€ë¡œ ì„¤ì •ë˜ì§€ ì•ŠìŒ
   - `TkAgg` ë°±ì—”ë“œê°€ tkinter root ì°½ê³¼ ì—°ê²°ë˜ê¸° ì „ì— figureë¥¼ ìƒì„±í•˜ë©´ ë©”ëª¨ë¦¬ ì ‘ê·¼ ì˜¤ë¥˜ ë°œìƒ

2. **ì´ˆê¸°í™” ìˆœì„œ ë¬¸ì œ**:
   - `__init__` ë©”ì„œë“œì—ì„œ `self.setup_matplotlib_font()` í˜¸ì¶œ
   - ì´ ì‹œì ì—ëŠ” `self.root`ëŠ” ìƒì„±ë˜ì—ˆì§€ë§Œ GUIê°€ ì™„ì „íˆ ì´ˆê¸°í™”ë˜ì§€ ì•ŠìŒ
   - `create_widgets()` í˜¸ì¶œ ì „ì— matplotlib figureë¥¼ ìƒì„±í•˜ë©´ ë¬¸ì œ ë°œìƒ

3. **macOS íŠ¹ì„±**:
   - macOSì—ì„œ tkinterì™€ matplotlibì˜ ë°±ì—”ë“œ ì´ˆê¸°í™” ìˆœì„œê°€ ì¤‘ìš”í•¨
   - GUI ì´ˆê¸°í™” ì „ì— figureë¥¼ ìƒì„±í•˜ë©´ segmentation fault ë°œìƒ ê°€ëŠ¥

---

## âœ… í•´ê²° ë°©ë²•

### ìˆ˜ì • ë‚´ìš©

**í°íŠ¸ í…ŒìŠ¤íŠ¸ ë¡œì§ ì œê±° ë° ë‹¨ìˆœí™”**

```python
def setup_matplotlib_font(self):
    """í”Œë«í¼ë³„ matplotlib í•œê¸€ í°íŠ¸ ì„¤ì •"""
    system = platform.system()
    
    # í”Œë«í¼ë³„ í°íŠ¸ ìš°ì„ ìˆœìœ„ ëª©ë¡
    font_families = {
        'Darwin': ['AppleGothic', 'Arial Unicode MS', 'Helvetica'],  # macOS
        'Windows': ['Malgun Gothic', 'Gulim', 'Arial'],  # Windows
        'Linux': ['DejaVu Sans', 'Liberation Sans', 'Arial']  # Linux
    }
    
    fonts = font_families.get(system, ['DejaVu Sans'])
    # ì²« ë²ˆì§¸ í°íŠ¸ë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì„¤ì • (GUI ì´ˆê¸°í™” ì „ì—ëŠ” í…ŒìŠ¤íŠ¸í•˜ì§€ ì•ŠìŒ)
    selected_font = fonts[0] if fonts else 'DejaVu Sans'
    plt.rcParams['font.family'] = selected_font
    
    # ìŒìˆ˜ ê¸°í˜¸ ê¹¨ì§ ë°©ì§€
    plt.rcParams['axes.unicode_minus'] = False
    
    logger.info(f"matplotlib í°íŠ¸ ì„¤ì • ì™„ë£Œ: {selected_font} (í”Œë«í¼: {system})")
```

### ë³€ê²½ ì‚¬í•­

1. **í°íŠ¸ í…ŒìŠ¤íŠ¸ ì œê±°**: `plt.figure()` í˜¸ì¶œ ì œê±°
2. **ë‹¨ìˆœí™”**: ì²« ë²ˆì§¸ í°íŠ¸ë¥¼ ë°”ë¡œ ì„¤ì •
3. **ì•ˆì „ì„± í–¥ìƒ**: GUI ì´ˆê¸°í™” ì „ì— figureë¥¼ ìƒì„±í•˜ì§€ ì•ŠìŒ

---

## ğŸ“Š í•´ê²° ì „í›„ ë¹„êµ

### í•´ê²° ì „
- âŒ GUI ì´ˆê¸°í™” ì „ì— `plt.figure()` í˜¸ì¶œ
- âŒ matplotlib ë°±ì—”ë“œ ì¶©ëŒ
- âŒ segmentation fault ë°œìƒ

### í•´ê²° í›„
- âœ… `rcParams`ë§Œ ì„¤ì • (figure ìƒì„± ì—†ìŒ)
- âœ… GUI ì´ˆê¸°í™” ìˆœì„œ ë¬¸ì œ í•´ê²°
- âœ… ì •ìƒ ì‹¤í–‰

---

## ğŸ’¡ êµí›ˆ

1. **matplotlib ì‚¬ìš© ì‹œ ì£¼ì˜ì‚¬í•­**:
   - GUI ì´ˆê¸°í™” ì „ì— `plt.figure()` í˜¸ì¶œ ê¸ˆì§€
   - tkinterì™€ í•¨ê»˜ ì‚¬ìš©í•  ë•ŒëŠ” ë°±ì—”ë“œ ì´ˆê¸°í™” ìˆœì„œ ì¤‘ìš”

2. **í°íŠ¸ ì„¤ì •**:
   - í°íŠ¸ í…ŒìŠ¤íŠ¸ëŠ” ì‹¤ì œ ê·¸ë˜í”„ë¥¼ ê·¸ë¦´ ë•Œ ìì—°ìŠ¤ëŸ½ê²Œ í™•ì¸ë¨
   - ì´ˆê¸°í™” ì‹œì ì— í…ŒìŠ¤íŠ¸í•  í•„ìš” ì—†ìŒ

3. **macOS íŠ¹ì„±**:
   - macOSì—ì„œ tkinterì™€ matplotlib ì¡°í•© ì‹œ ì´ˆê¸°í™” ìˆœì„œê°€ íŠ¹íˆ ì¤‘ìš”

---

## ğŸ”— ê´€ë ¨ íŒŒì¼

- `main.py`: ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ íŒŒì¼
- `plan/main.py_ê²½ê³ ë©”ì‹œì§€_ë¶„ì„.md`: ê²½ê³  ë©”ì‹œì§€ ë¶„ì„ ë³´ê³ ì„œ

---

**ì‘ì„±ì**: AI Assistant  
**ìƒíƒœ**: âœ… í•´ê²° ì™„ë£Œ  
**ë‹¤ìŒ ì‘ì—…**: í…ŒìŠ¤íŠ¸ í™•ì¸

