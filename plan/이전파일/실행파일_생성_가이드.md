# 🚀 실행 파일 생성 가이드

**작성일**: 2025-11-12  
**프로젝트**: 급여명세서 자동생성기 v1.0

---

## 📋 개요

이 프로젝트는 PyInstaller를 사용하여 실행 파일을 생성합니다.
- **macOS**: `.app` 번들 및 `.pkg` 인스톨러 생성
- **Windows**: `.exe` 파일 생성

---

## 🍎 macOS에서 실행 파일 생성

### 방법 1: 빌드 스크립트 사용 (가장 간단) ⭐ 권장

#### 1단계: 가상환경 활성화
```bash
cd /Users/jisungs/Documents/dev/sideprojects/salary_cal
source venv/bin/activate
```

#### 2단계: 빌드 스크립트 실행
```bash
chmod +x build.sh
./build.sh
```

빌드가 완료되면:
- `dist/급여명세서생성기.app` - 실행 가능한 앱 번들
- `dist/급여명세서생성기.pkg` - 설치 패키지 (선택사항)

---

### 방법 2: 수동 빌드

#### 1단계: 가상환경 활성화
```bash
source venv/bin/activate
```

#### 2단계: PyInstaller 설치 확인
```bash
pip install pyinstaller
```

#### 3단계: 빌드 실행
```bash
pyinstaller build_mac.spec --clean
```

#### 4단계: 결과 확인
```bash
ls -lh dist/급여명세서생성기.app
```

---

## 🪟 Windows에서 실행 파일 생성

### 방법 1: 빌드 스크립트 사용 (권장)

#### 1단계: 명령 프롬프트 열기
- 시작 메뉴에서 "cmd" 검색
- 관리자 권한으로 실행 (선택사항)

#### 2단계: 프로젝트 폴더로 이동
```cmd
cd C:\path\to\salary_cal
```

#### 3단계: 가상환경 생성 및 활성화
```cmd
python -m venv venv
venv\Scripts\activate
```

#### 4단계: 필수 패키지 설치
```cmd
pip install -r requirements.txt
pip install pyinstaller
```

#### 5단계: 빌드 실행
```cmd
build.bat
```

또는 직접 실행:
```cmd
pyinstaller build_win.spec --clean
```

#### 6단계: 결과 확인
```cmd
dir dist\급여명세서생성기.exe
```

---

## 📁 빌드 결과물

### macOS
- **`dist/급여명세서생성기.app`**: 실행 가능한 앱 번들
  - 더블클릭으로 실행 가능
  - Dock에 추가 가능
- **`dist/급여명세서생성기.pkg`**: 설치 패키지 (선택사항)
  - 다른 Mac에 설치할 때 사용

### Windows
- **`dist\급여명세서생성기.exe`**: 실행 가능한 실행 파일
  - 더블클릭으로 실행 가능
  - 다른 Windows PC에서도 실행 가능 (Python 설치 불필요)

---

## ✅ 빌드 전 확인 사항

### 필수 파일 확인
빌드 전에 다음 파일들이 있는지 확인하세요:

1. **템플릿 파일**
   - `payroll_generator/templates/employee_template.xlsx`
   - `payroll_generator/templates/company_template.xlsx`

2. **폰트 파일**
   - `payroll_generator/assets/NanumGothic.ttf`

3. **메인 파일**
   - `main.py`

4. **빌드 설정 파일**
   - `build_mac.spec` (macOS용)
   - `build_win.spec` (Windows용)

---

## 🔧 빌드 문제 해결

### 문제 1: "PyInstaller를 찾을 수 없습니다"
**해결 방법**:
```bash
pip install pyinstaller
```

### 문제 2: "가상환경이 없습니다"
**해결 방법**:
```bash
python3 -m venv venv
source venv/bin/activate  # macOS/Linux
# 또는
venv\Scripts\activate  # Windows
```

### 문제 3: "필수 패키지가 설치되지 않았습니다"
**해결 방법**:
```bash
pip install -r requirements.txt
```

### 문제 4: 빌드는 성공했지만 실행이 안 됩니다
**해결 방법**:
1. 터미널에서 실행하여 오류 확인:
   ```bash
   # macOS
   ./dist/급여명세서생성기.app/Contents/MacOS/급여명세서생성기
   
   # Windows
   dist\급여명세서생성기.exe
   ```

2. 로그 파일 확인:
   - 위치: `~/.급여명세서생성기/logs/app.log`

3. 콘솔 모드로 재빌드:
   - `build_mac.spec` 또는 `build_win.spec`에서 `console=True`로 변경
   - 재빌드 후 오류 메시지 확인

---

## 📊 빌드 시간 및 파일 크기

### 예상 빌드 시간
- **macOS**: 약 2-5분
- **Windows**: 약 2-5분

### 예상 파일 크기
- **macOS .app**: 약 100-200MB
- **Windows .exe**: 약 100-200MB

---

## 🚀 실행 파일 실행 방법

### macOS
```bash
# 방법 1: Finder에서 더블클릭
open dist/급여명세서생성기.app

# 방법 2: 터미널에서 실행
./dist/급여명세서생성기.app/Contents/MacOS/급여명세서생성기
```

### Windows
```cmd
# 방법 1: 파일 탐색기에서 더블클릭
# 방법 2: 명령 프롬프트에서 실행
dist\급여명세서생성기.exe
```

---

## 📝 빌드 후 체크리스트

빌드가 완료되면 다음을 확인하세요:

- [ ] 실행 파일이 `dist` 폴더에 생성되었는지 확인
- [ ] 실행 파일 크기가 적절한지 확인 (100-200MB)
- [ ] 실행 파일을 실행하여 정상 작동하는지 확인
- [ ] 대시보드 탭이 정상적으로 표시되는지 확인
- [ ] 급여명세서 생성 탭이 정상적으로 작동하는지 확인
- [ ] 파일 선택 기능이 정상적으로 작동하는지 확인

---

## 🔗 관련 문서

- **실행 방법**: `실행방법.md`
- **Windows 빌드 가이드**: `Windows_빌드_가이드.md`
- **사용자 매뉴얼**: `payroll_generator/docs/사용자_매뉴얼.md`

---

## 💡 팁

### 빌드 최적화
- 불필요한 패키지 제외: `build_mac.spec` 또는 `build_win.spec`의 `excludes` 섹션 확인
- UPX 압축 사용: 파일 크기 감소 (기본 활성화)

### 배포 준비
- 실행 파일만 배포: `dist` 폴더의 실행 파일만 복사
- 템플릿 파일 포함: 사용자가 템플릿을 사용할 수 있도록 별도 제공
- 사용자 매뉴얼 포함: `payroll_generator/docs/사용자_매뉴얼.md`

---

**마지막 업데이트**: 2025-11-12

