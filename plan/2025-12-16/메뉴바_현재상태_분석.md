# 메뉴바 현재 상태 분석 보고서

**작성일**: 2025-12-16  
**분석 대상**: `web/templates/base.html`  
**프레임워크**: Bootstrap 5, Flask (Jinja2)

---

## 📋 현재 메뉴바 구조

### 전체 구조

```12:71:web/templates/base.html
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
        <div class="container">
            <a class="navbar-brand" href="{{ url_for('main.index') }}">
                💼 급여명세서 자동생성기
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" 
                    data-bs-target="#navbarNav" aria-controls="navbarNav" 
                    aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link {% if request.endpoint == 'main.index' %}active{% endif %}" 
                               href="{{ url_for('main.index') }}">Home</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle {% if request.endpoint in ['payroll.input_form', 'payroll.multiple_input_form'] %}active{% endif %}" 
                               href="#" id="inputDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                직접 입력
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="inputDropdown">
                                <li><a class="dropdown-item" href="{{ url_for('payroll.input_form') }}">단일 직원</a></li>
                                <li><a class="dropdown-item" href="{{ url_for('payroll.multiple_input_form') }}">다중 직원</a></li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link {% if request.endpoint == 'pages.about' %}active{% endif %}" 
                               href="{{ url_for('pages.about') }}">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link {% if request.endpoint == 'pages.design' %}active{% endif %}" 
                               href="{{ url_for('pages.design') }}">Design</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link {% if request.endpoint == 'pages.contact' %}active{% endif %}" 
                               href="{{ url_for('pages.contact') }}">Contact</a>
                        </li>
                    {% if current_user.is_authenticated %}
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" 
                           data-bs-toggle="dropdown" aria-expanded="false">
                            {{ current_user.username or current_user.email }}
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                            <li><a class="dropdown-item" href="#">프로필</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="{{ url_for('auth.logout') }}">로그아웃</a></li>
                        </ul>
                    </li>
                    {% else %}
                    <li class="nav-item">
                        <a class="nav-link {% if request.endpoint == 'auth.login' %}active{% endif %}" 
                           href="{{ url_for('auth.login') }}">Login / Sign in</a>
                    </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>
```

---

## 📊 메뉴 항목 상세 분석

### 1. 브랜드 로고/제목
- **위치**: 왼쪽 상단
- **텍스트**: 💼 급여명세서 자동생성기
- **링크**: `/` (메인 페이지)
- **클래스**: `navbar-brand`

### 2. 공통 메뉴 항목 (항상 표시)

#### 2.1 Home
- **라벨**: Home
- **라우트**: `main.index` → `/`
- **활성 상태**: `request.endpoint == 'main.index'`일 때 `active` 클래스 추가
- **기능**: 메인 페이지 (엑셀 파일 업로드)

#### 2.2 직접 입력 (드롭다운)
- **라벨**: 직접 입력
- **타입**: 드롭다운 메뉴
- **활성 상태**: `payroll.input_form` 또는 `payroll.multiple_input_form`일 때 활성
- **하위 메뉴**:
  - **단일 직원**: `payroll.input_form` → `/input/`
  - **다중 직원**: `payroll.multiple_input_form` → `/input/multiple`
- **기능**: 웹 폼을 통한 직접 급여 입력

#### 2.3 About
- **라벨**: About
- **라우트**: `pages.about` → `/about`
- **활성 상태**: `request.endpoint == 'pages.about'`일 때 활성
- **기능**: 서비스 소개 페이지

#### 2.4 Design
- **라벨**: Design
- **라우트**: `pages.design` → `/design`
- **활성 상태**: `request.endpoint == 'pages.design'`일 때 활성
- **기능**: 디자인 가이드 페이지

#### 2.5 Contact
- **라벨**: Contact
- **라우트**: `pages.contact` → `/contact`
- **활성 상태**: `request.endpoint == 'pages.contact'`일 때 활성
- **기능**: 문의 페이지

### 3. 사용자 인증 관련 메뉴 (조건부 표시)

#### 3.1 로그인 상태일 때 (Authenticated)
- **타입**: 드롭다운 메뉴 (오른쪽 정렬)
- **표시 내용**: 사용자명 또는 이메일
- **하위 메뉴**:
  - **프로필**: `#` (현재 링크 없음 - 미구현)
  - **구분선**: `<hr class="dropdown-divider">`
  - **로그아웃**: `auth.logout` → `/auth/logout`

#### 3.2 비로그인 상태일 때 (Not Authenticated)
- **라벨**: Login / Sign in
- **라우트**: `auth.login` → `/auth/login`
- **활성 상태**: `request.endpoint == 'auth.login'`일 때 활성
- **기능**: 로그인/회원가입 페이지

---

## 🎨 스타일 및 디자인 특징

### Bootstrap 클래스
- **컨테이너**: `container` (중앙 정렬, 반응형)
- **네비게이션 바**: `navbar navbar-expand-lg navbar-dark bg-primary fixed-top`
  - `navbar-expand-lg`: 큰 화면에서 가로 메뉴, 작은 화면에서 햄버거 메뉴
  - `navbar-dark`: 어두운 텍스트 색상
  - `bg-primary`: 파란색 배경
  - `fixed-top`: 상단 고정
- **메뉴 정렬**: `ms-auto` (오른쪽 정렬)
- **드롭다운**: `dropdown-menu-end` (오른쪽 정렬)

### 반응형 디자인
- **데스크톱**: 가로 메뉴바
- **모바일/태블릿**: 햄버거 메뉴 (자동 전환)
- **햄버거 버튼**: `navbar-toggler` (Bootstrap 5 자동 처리)

---

## 🔗 연결된 라우트 정보

### Blueprint 구조
1. **`main_bp`** (`app/routes/main.py`)
   - `/` → `index()` - 메인 페이지

2. **`payroll_bp`** (`app/routes/payroll.py`, `url_prefix='/input'`)
   - `/input/` → `input_form()` - 단일 직원 입력
   - `/input/multiple` → `multiple_input_form()` - 다중 직원 입력

3. **`pages_bp`** (`app/routes/pages.py`)
   - `/about` → `about()` - About 페이지
   - `/design` → `design()` - Design 페이지
   - `/contact` → `contact()` - Contact 페이지

4. **`auth_bp`** (`app/routes/auth.py`)
   - `/auth/login` → `login()` - 로그인 페이지
   - `/auth/logout` → `logout()` - 로그아웃

---

## ⚠️ 발견된 이슈 및 개선 가능 사항

### 1. 미구현 기능
- **프로필 링크**: 현재 `#`로 되어 있어 실제 프로필 페이지가 없음
  - **위치**: `56:57:web/templates/base.html`
  ```html
  <li><a class="dropdown-item" href="#">프로필</a></li>
  ```

### 2. 메뉴 구조 개선 가능성
- **메뉴 순서**: 현재 순서가 기능 중심인지, 사용자 흐름 중심인지 불명확
- **한글/영문 혼용**: "Home", "About", "Design", "Contact"는 영문, "직접 입력", "프로필", "로그아웃"은 한글
- **메뉴 그룹화**: 기능별로 그룹화할 수 있는 여지가 있음

### 3. 접근성
- **ARIA 레이블**: 기본적으로 Bootstrap이 제공하는 ARIA 속성 사용 중
- **키보드 네비게이션**: Bootstrap 기본 지원

### 4. 활성 상태 표시
- **현재 구현**: `request.endpoint` 기반으로 `active` 클래스 추가
- **드롭다운 활성화**: "직접 입력" 드롭다운은 하위 메뉴 활성 시에도 활성 표시됨 (올바름)

---

## 📝 수정 시 고려사항

### 1. 기존 기능 보존
- 현재 메뉴바는 모든 주요 기능에 연결되어 있음
- 수정 시 기존 라우트 연결이 끊어지지 않도록 주의 필요

### 2. 사용자 경험
- 로그인/비로그인 상태에 따른 메뉴 변경이 이미 구현되어 있음
- 반응형 디자인이 이미 적용되어 있음

### 3. 확장성
- 새로운 기능 추가 시 메뉴 구조를 쉽게 확장할 수 있는 구조
- Blueprint 기반으로 모듈화되어 있어 새로운 메뉴 추가가 용이

---

## 🎯 수정 가능한 영역

1. **메뉴 항목 순서 변경**
2. **메뉴 라벨 변경** (한글/영문 통일)
3. **새로운 메뉴 항목 추가**
4. **드롭다운 구조 변경**
5. **프로필 링크 구현**
6. **메뉴 아이콘 추가**
7. **스타일 변경** (색상, 배경 등)

---

## 📌 다음 단계 제안

메뉴바 수정을 원하시면 다음 정보를 알려주세요:

1. **수정 목적**: 어떤 부분을 수정하고 싶으신가요?
2. **추가/삭제**: 새로운 메뉴를 추가하거나 기존 메뉴를 삭제하시나요?
3. **순서 변경**: 메뉴 순서를 변경하시나요?
4. **스타일 변경**: 디자인이나 색상을 변경하시나요?
5. **기능 추가**: 새로운 기능 페이지를 추가하시나요?

이 정보를 바탕으로 구체적인 수정 계획을 수립하겠습니다.

