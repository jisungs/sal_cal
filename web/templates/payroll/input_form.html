{% extends "base.html" %}

{% block title %}ê¸‰ì—¬ëª…ì„¸ì„œ ì§ì ‘ ì…ë ¥{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-10">
        <div class="card shadow">
            <div class="card-header bg-primary text-white">
                <h3 class="card-title mb-0">âœï¸ ê¸‰ì—¬ëª…ì„¸ì„œ ì§ì ‘ ì…ë ¥</h3>
            </div>
            <div class="card-body">
                <form method="POST" id="payrollForm">
                    {{ form.hidden_tag() }}
                    
                    <div class="row">
                        <div class="col-md-6">
                            <h5 class="mb-3">ê¸°ë³¸ ì •ë³´</h5>
                            
                            <div class="mb-3">
                                {{ form.name.label(class="form-label") }}
                                {{ form.name(class="form-control" + (" is-invalid" if form.name.errors else "")) }}
                                {% if form.name.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.name.errors %}{{ error }}{% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="mb-3">
                                {{ form.resident_number.label(class="form-label") }}
                                {{ form.resident_number(class="form-control" + (" is-invalid" if form.resident_number.errors else ""), placeholder="123456", maxlength="6") }}
                                {% if form.resident_number.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.resident_number.errors %}{{ error }}{% endfor %}
                                    </div>
                                {% endif %}
                                <div class="form-text">ì£¼ë¯¼ë²ˆí˜¸ ì•ìë¦¬ 6ìë¦¬ë§Œ ì…ë ¥í•˜ì„¸ìš”.</div>
                            </div>
                            
                            <div class="mb-3">
                                {{ form.hire_date.label(class="form-label") }}
                                {{ form.hire_date(class="form-control" + (" is-invalid" if form.hire_date.errors else ""), type="date") }}
                                {% if form.hire_date.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.hire_date.errors %}{{ error }}{% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="mb-3">
                                {{ form.department.label(class="form-label") }}
                                {{ form.department(class="form-control", placeholder="ì˜ˆ: ê°œë°œíŒ€, ì˜ì—…íŒ€") }}
                                <div class="form-text">ì„ íƒì‚¬í•­: í…œí”Œë¦¿ ë””ìì¸ì— í‘œì‹œë©ë‹ˆë‹¤</div>
                            </div>
                            
                            <div class="mb-3">
                                {{ form.position.label(class="form-label") }}
                                {{ form.position(class="form-control", placeholder="ì˜ˆ: ì„ ì„, ì£¼ì„, ëŒ€ë¦¬") }}
                                <div class="form-text">ì„ íƒì‚¬í•­: í…œí”Œë¦¿ ë””ìì¸ì— í‘œì‹œë©ë‹ˆë‹¤</div>
                            </div>
                            
                            <div class="mb-3">
                                {{ form.bank_name.label(class="form-label") }}
                                {{ form.bank_name(class="form-control", placeholder="ì˜ˆ: KBêµ­ë¯¼ì€í–‰, ì‹ í•œì€í–‰") }}
                                <div class="form-text">ì„ íƒì‚¬í•­: ê¸‰ì—¬ ì´ì²´ìš© ì€í–‰ëª…</div>
                            </div>
                            
                            <div class="mb-3">
                                {{ form.account_number.label(class="form-label") }}
                                {{ form.account_number(class="form-control", placeholder="123-456-789012") }}
                                <div class="form-text">ì„ íƒì‚¬í•­: ê¸‰ì—¬ ì´ì²´ìš© ê³„ì¢Œë²ˆí˜¸</div>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <h5 class="mb-3">ê¸‰ì—¬ ì •ë³´</h5>
                            
                            <div class="mb-3">
                                {{ form.base_salary.label(class="form-label") }}
                                {{ form.base_salary(class="form-control" + (" is-invalid" if form.base_salary.errors else ""), type="number", min="0", step="1000", id="base_salary") }}
                                {% if form.base_salary.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.base_salary.errors %}{{ error }}{% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="mb-3">
                                {{ form.dependents.label(class="form-label") }}
                                {{ form.dependents(class="form-control" + (" is-invalid" if form.dependents.errors else ""), type="number", min="0", max="10", id="dependents") }}
                                {% if form.dependents.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.dependents.errors %}{{ error }}{% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="mb-3">
                                {{ form.overtime_hours.label(class="form-label") }}
                                {{ form.overtime_hours(class="form-control", type="number", min="0", id="overtime_hours") }}
                                <div class="form-text">ì„ íƒì‚¬í•­: ì›” ì—°ì¥ê·¼ë¬´ ì‹œê°„</div>
                            </div>
                            
                            <div class="mb-3">
                                {{ form.overtime_rate.label(class="form-label") }}
                                {{ form.overtime_rate(class="form-control", type="number", min="0", step="1000", id="overtime_rate") }}
                                <div class="form-text">ì„ íƒì‚¬í•­: ì‹œê°„ë‹¹ ì—°ì¥ê·¼ë¬´ ë‹¨ê°€</div>
                                <div id="overtime_rate_hint" class="form-text text-primary" style="display: none; cursor: pointer;"></div>
                            </div>
                            
                            <div class="mb-3">
                                {{ form.bonus.label(class="form-label") }}
                                {{ form.bonus(class="form-control", type="number", min="0", step="1000", id="bonus") }}
                                <div class="form-text">ì„ íƒì‚¬í•­: ìƒì—¬ê¸ˆ ê¸ˆì•¡</div>
                            </div>
                        </div>
                    </div>
                    
                    <hr>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                {{ form.period.label(class="form-label") }}
                                {{ form.period(class="form-control" + (" is-invalid" if form.period.errors else ""), placeholder="2025-01", pattern="\\d{4}-\\d{2}") }}
                                {% if form.period.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.period.errors %}{{ error }}{% endfor %}
                                    </div>
                                {% endif %}
                                <div class="form-text">í˜•ì‹: YYYY-MM</div>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label">ì¶œë ¥ í˜•ì‹</label>
                                <div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="output_format" 
                                               id="format_excel" value="excel">
                                        <label class="form-check-label" for="format_excel">ì—‘ì…€</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="output_format" 
                                               id="format_pdf" value="pdf">
                                        <label class="form-check-label" for="format_pdf">PDF</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="output_format" 
                                               id="format_both" value="both" checked>
                                        <label class="form-check-label" for="format_both">ë‘˜ ë‹¤</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-12">
                            <div class="mb-3">
                                <label class="form-label mb-3">ë””ìì¸ ì„ íƒ</label>
                                <input type="hidden" name="design_name" id="design_name" value="default">
                                <div class="row g-3" id="design-cards">
                                    <div class="col-md-6 col-lg-4">
                                        <div class="card design-card h-100" data-design="default" style="cursor: pointer; border: 2px solid #dee2e6; transition: all 0.3s;">
                                            <div class="card-body text-center">
                                                                <div class="mb-2">
                                                    <input type="radio" name="design_radio" value="default" id="design_default" checked style="display: none;">
                                                    <div style="font-size: 2.5rem; color: #6c757d;">ğŸ“„</div>
                                                </div>
                                                <h6 class="card-title mb-1">ê¸°ë³¸ ë””ìì¸</h6>
                                                <p class="card-text small text-muted mb-0">ê¸°ì¡´ ë°©ì‹ê³¼ ë™ì¼</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-lg-4">
                                        <div class="card design-card h-100" data-design="template_sample1" style="cursor: pointer; border: 2px solid #dee2e6; transition: all 0.3s;">
                                            <div class="card-body text-center">
                                                <div class="mb-2">
                                                    <input type="radio" name="design_radio" value="template_sample1" id="design_template_sample1" style="display: none;">
                                                    <div style="font-size: 2.5rem; color: #fd7e14;">ğŸ“Š</div>
                                                </div>
                                                <h6 class="card-title mb-1">í…œí”Œë¦¿ 1</h6>
                                                <p class="card-text small text-muted mb-0">ê¸‰ì—¬ëª…ì„¸ì„œ í…œí”Œë¦¿</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-lg-4">
                                        <div class="card design-card h-100 disabled" data-design="template_sample2" style="cursor: not-allowed; border: 2px solid #dee2e6; transition: all 0.3s; opacity: 0.6; pointer-events: none;">
                                            <div class="card-body text-center">
                                                <div class="mb-2">
                                                    <input type="radio" name="design_radio" value="template_sample2" id="design_template_sample2" disabled style="display: none;">
                                                    <div style="font-size: 2.5rem; color: #dc3545;">ğŸ“‹</div>
                                                </div>
                                                <h6 class="card-title mb-1">í…œí”Œë¦¿ 2</h6>
                                                <p class="card-text small text-muted mb-0">í…œí”Œë¦¿ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-text mt-2">ì›í•˜ëŠ” ë””ìì¸ ì¹´ë“œë¥¼ í´ë¦­í•˜ì—¬ ì„ íƒí•˜ì„¸ìš”.</div>
                            </div>
                        </div>
                    </div>
                    
                    <script>
                    // ë””ìì¸ ì¹´ë“œ ì„ íƒ ê¸°ëŠ¥
                    document.addEventListener('DOMContentLoaded', function() {
                        const designCards = document.querySelectorAll('.design-card');
                        const hiddenInput = document.getElementById('design_name');
                        
                        // ì´ˆê¸° ì„ íƒ ìƒíƒœ ì„¤ì •
                        const defaultCard = document.querySelector('[data-design="default"]');
                        if (defaultCard) {
                            defaultCard.style.borderColor = '#0d6efd';
                            defaultCard.style.backgroundColor = '#f0f7ff';
                        }
                        
                        designCards.forEach(card => {
                            // disabled ì¹´ë“œëŠ” í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€í•˜ì§€ ì•ŠìŒ
                            if (card.classList.contains('disabled')) {
                                return;
                            }
                            
                            card.addEventListener('click', function() {
                                const designValue = this.getAttribute('data-design');
                                
                                // disabled ì¹´ë“œëŠ” ì„ íƒ ë¶ˆê°€
                                if (this.classList.contains('disabled')) {
                                    return;
                                }
                                
                                // ëª¨ë“  ì¹´ë“œ ìŠ¤íƒ€ì¼ ì´ˆê¸°í™”
                                designCards.forEach(c => {
                                    if (!c.classList.contains('disabled')) {
                                        c.style.borderColor = '#dee2e6';
                                        c.style.backgroundColor = '';
                                    }
                                });
                                
                                // ì„ íƒëœ ì¹´ë“œ ìŠ¤íƒ€ì¼ ì ìš©
                                this.style.borderColor = '#0d6efd';
                                this.style.backgroundColor = '#f0f7ff';
                                
                                // hidden input ì—…ë°ì´íŠ¸
                                hiddenInput.value = designValue;
                                
                                // radio button ì—…ë°ì´íŠ¸
                                const radio = this.querySelector('input[type="radio"]');
                                if (radio && !radio.disabled) {
                                    radio.checked = true;
                                }
                                
                                console.log('ë””ìì¸ ì„ íƒ:', designValue);
                            });
                            
                            // í˜¸ë²„ íš¨ê³¼ (disabled ì¹´ë“œ ì œì™¸)
                            card.addEventListener('mouseenter', function() {
                                if (this.classList.contains('disabled')) {
                                    return;
                                }
                                if (this.style.borderColor !== 'rgb(13, 110, 253)') {
                                    this.style.borderColor = '#adb5bd';
                                    this.style.transform = 'translateY(-2px)';
                                }
                            });
                            
                            card.addEventListener('mouseleave', function() {
                                if (this.classList.contains('disabled')) {
                                    return;
                                }
                                if (this.style.borderColor !== 'rgb(13, 110, 253)') {
                                    this.style.borderColor = '#dee2e6';
                                    this.style.transform = '';
                                }
                            });
                        });
                    });
                    </script>
                    
                    <div class="mb-3">
                        {{ form.deduction_note.label(class="form-label") }}
                        {{ form.deduction_note(class="form-control", rows="2", maxlength="200") }}
                        <div class="form-text">ì„ íƒì‚¬í•­: ê¸°íƒ€ ê³µì œì‚¬í•­ ë©”ëª¨ (ìµœëŒ€ 200ì)</div>
                    </div>
                    
                    <!-- ì‹¤ì‹œê°„ ê³„ì‚° ë¯¸ë¦¬ë³´ê¸° ì˜ì—­ -->
                    <div id="previewArea" class="card bg-light mb-3 d-none">
                        <div class="card-body">
                            <h6 class="card-title">ğŸ’° ê³„ì‚° ë¯¸ë¦¬ë³´ê¸°</h6>
                            <div id="previewContent"></div>
                        </div>
                    </div>
                    
                    <div class="d-grid gap-2">
                        {{ form.submit(class="btn btn-primary btn-lg") }}
                    </div>
                </form>
            </div>
        </div>
        
        <!-- ì…ë ¥ ê°€ì´ë“œ -->
        <div class="card mt-4">
            <div class="card-header bg-info text-white">
                <h5 class="card-title mb-0">ğŸ“š ì…ë ¥ ê°€ì´ë“œ</h5>
            </div>
            <div class="card-body">
                <div class="accordion" id="inputGuideAccordion">
                    <!-- í•„ìˆ˜ í•„ë“œ ê°€ì´ë“œ -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingRequired">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" 
                                    data-bs-target="#collapseRequired" aria-expanded="true" aria-controls="collapseRequired">
                                í•„ìˆ˜ ì…ë ¥ í•­ëª©
                            </button>
                        </h2>
                        <div id="collapseRequired" class="accordion-collapse collapse show" 
                             aria-labelledby="headingRequired" data-bs-parent="#inputGuideAccordion">
                            <div class="accordion-body">
                                <ul>
                                    <li><strong>ì´ë¦„</strong>: ì§ì›ì˜ ì„±ëª…ì„ ì…ë ¥í•˜ì„¸ìš” (1-50ì)</li>
                                    <li><strong>ì£¼ë¯¼ë²ˆí˜¸ ì•ìë¦¬</strong>: ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ì• 6ìë¦¬ë§Œ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: 123456)</li>
                                    <li><strong>ì…ì‚¬ì¼</strong>: YYYY-MM-DD í˜•ì‹ìœ¼ë¡œ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: 2024-01-01)</li>
                                    <li><strong>ê¸°ë³¸ê¸‰</strong>: ì›” ê¸°ë³¸ê¸‰ì„ ì› ë‹¨ìœ„ë¡œ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: 3000000)</li>
                                    <li><strong>ë¶€ì–‘ê°€ì¡±ìˆ˜</strong>: ë¶€ì–‘ê°€ì¡± ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš” (0-10ëª…, ê¸°ë³¸ê°’: 0)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ì„ íƒ í•„ë“œ ê°€ì´ë“œ -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOptional">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                                    data-bs-target="#collapseOptional" aria-expanded="false" aria-controls="collapseOptional">
                                ì„ íƒ ì…ë ¥ í•­ëª©
                            </button>
                        </h2>
                        <div id="collapseOptional" class="accordion-collapse collapse" 
                             aria-labelledby="headingOptional" data-bs-parent="#inputGuideAccordion">
                            <div class="accordion-body">
                                <ul>
                                    <li><strong>ì€í–‰ëª…</strong>: ê¸‰ì—¬ ì´ì²´ìš© ì€í–‰ëª… (ì˜ˆ: KBêµ­ë¯¼ì€í–‰, ì‹ í•œì€í–‰)</li>
                                    <li><strong>ê³„ì¢Œë²ˆí˜¸</strong>: ê¸‰ì—¬ ì´ì²´ìš© ê³„ì¢Œë²ˆí˜¸ (ì˜ˆ: 123-456-789012)</li>
                                    <li><strong>ì—°ì¥ê·¼ë¬´ì‹œê°„</strong>: ì›” ì—°ì¥ê·¼ë¬´ ì‹œê°„ (ì‹œê°„ ë‹¨ìœ„)</li>
                                    <li><strong>ì—°ì¥ê·¼ë¬´ë‹¨ê°€</strong>: ì‹œê°„ë‹¹ ì—°ì¥ê·¼ë¬´ ë‹¨ê°€ (ì›/ì‹œê°„)
                                        <ul>
                                            <li>ğŸ’¡ ê¸°ë³¸ê¸‰ì„ ì…ë ¥í•˜ë©´ ê¶Œì¥ê°’ì´ ìë™ìœ¼ë¡œ ê³„ì‚°ë©ë‹ˆë‹¤</li>
                                            <li>ê¶Œì¥ê°’ ê³„ì‚°ì‹: (ê¸°ë³¸ê¸‰ Ã· 20ì¼ Ã· 8ì‹œê°„) Ã— 1.5</li>
                                            <li>ê¶Œì¥ê°’ì„ í´ë¦­í•˜ë©´ ìë™ìœ¼ë¡œ ì…ë ¥ë©ë‹ˆë‹¤</li>
                                        </ul>
                                    </li>
                                    <li><strong>ìƒì—¬ê¸ˆ</strong>: ìƒì—¬ê¸ˆ ê¸ˆì•¡ (ì› ë‹¨ìœ„)</li>
                                    <li><strong>ê³µì œì‚¬í•­ ë©”ëª¨</strong>: ê¸°íƒ€ ê³µì œì‚¬í•­ ë©”ëª¨ (ìµœëŒ€ 200ì)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ê³„ì‚° ê°€ì´ë“œ -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingCalculation">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                                    data-bs-target="#collapseCalculation" aria-expanded="false" aria-controls="collapseCalculation">
                                ê³„ì‚° ë°©ë²• ì•ˆë‚´
                            </button>
                        </h2>
                        <div id="collapseCalculation" class="accordion-collapse collapse" 
                             aria-labelledby="headingCalculation" data-bs-parent="#inputGuideAccordion">
                            <div class="accordion-body">
                                <h6>ê¸‰ì—¬ ê³„ì‚° ê³µì‹</h6>
                                <ul>
                                    <li><strong>ì´ ì§€ê¸‰ì•¡</strong> = ê¸°ë³¸ê¸‰ + ì—°ì¥ê·¼ë¬´ìˆ˜ë‹¹ + ìƒì—¬ê¸ˆ</li>
                                    <li><strong>ì—°ì¥ê·¼ë¬´ìˆ˜ë‹¹</strong> = ì—°ì¥ê·¼ë¬´ì‹œê°„ Ã— ì—°ì¥ê·¼ë¬´ë‹¨ê°€</li>
                                    <li><strong>ì´ ê³µì œì•¡</strong> = 4ëŒ€ë³´í—˜ + ì†Œë“ì„¸ + ì§€ë°©ì†Œë“ì„¸</li>
                                    <li><strong>ì‹¤ìˆ˜ë ¹ì•¡</strong> = ì´ ì§€ê¸‰ì•¡ - ì´ ê³µì œì•¡</li>
                                </ul>
                                
                                <h6 class="mt-3">4ëŒ€ë³´í—˜ ê³„ì‚° ê¸°ì¤€</h6>
                                <ul>
                                    <li>êµ­ë¯¼ì—°ê¸ˆ: ê¸°ë³¸ê¸‰ì˜ 4.5% (ìƒí•œì•¡: 5,530,000ì›)</li>
                                    <li>ê±´ê°•ë³´í—˜: ê¸°ë³¸ê¸‰ì˜ 3.545% (ìƒí•œì•¡: 5,530,000ì›)</li>
                                    <li>ì¥ê¸°ìš”ì–‘: ê±´ê°•ë³´í—˜ì˜ 12.95%</li>
                                    <li>ê³ ìš©ë³´í—˜: ê¸°ë³¸ê¸‰ì˜ 0.9% (ìƒí•œì•¡: 5,530,000ì›)</li>
                                </ul>
                                
                                <h6 class="mt-3">ë¶€ì–‘ê°€ì¡± ê³µì œì•¡</h6>
                                <ul>
                                    <li>0ëª…: 0ì›</li>
                                    <li>1ëª…: 150,000ì›</li>
                                    <li>2ëª…: 300,000ì›</li>
                                    <li>3ëª…: 450,000ì›</li>
                                    <li>4ëª… ì´ìƒ: 600,000ì›</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <!-- FAQ -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFAQ">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                                    data-bs-target="#collapseFAQ" aria-expanded="false" aria-controls="collapseFAQ">
                                ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ (FAQ)
                            </button>
                        </h2>
                        <div id="collapseFAQ" class="accordion-collapse collapse" 
                             aria-labelledby="headingFAQ" data-bs-parent="#inputGuideAccordion">
                            <div class="accordion-body">
                                <h6>Q1. ë¶€ì–‘ê°€ì¡±ìˆ˜ê°€ 0ëª…ì´ì–´ë„ ë˜ë‚˜ìš”?</h6>
                                <p>ë„¤, ë¶€ì–‘ê°€ì¡±ìˆ˜ëŠ” 0ëª…ë„ ìœ íš¨í•œ ê°’ì…ë‹ˆë‹¤. ë¶€ì–‘ê°€ì¡±ì´ ì—†ëŠ” ê²½ìš° 0ì„ ì…ë ¥í•˜ì„¸ìš”.</p>
                                
                                <h6>Q2. ì—°ì¥ê·¼ë¬´ë‹¨ê°€ë¥¼ ëª¨ë¥´ê² ì–´ìš”.</h6>
                                <p>ê¸°ë³¸ê¸‰ì„ ì…ë ¥í•˜ë©´ ê¶Œì¥ê°’ì´ ìë™ìœ¼ë¡œ ê³„ì‚°ë˜ì–´ í‘œì‹œë©ë‹ˆë‹¤. ê¶Œì¥ê°’ì„ í´ë¦­í•˜ë©´ ìë™ìœ¼ë¡œ ì…ë ¥ë©ë‹ˆë‹¤.</p>
                                
                                <h6>Q3. ì‹¤ì‹œê°„ ê³„ì‚° ë¯¸ë¦¬ë³´ê¸°ëŠ” ì–¸ì œ í‘œì‹œë˜ë‚˜ìš”?</h6>
                                <p>ê¸°ë³¸ê¸‰ì„ ì…ë ¥í•˜ë©´ ìë™ìœ¼ë¡œ ê³„ì‚° ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤. ë‹¤ë¥¸ í•„ë“œë¥¼ ìˆ˜ì •í•  ë•Œë§ˆë‹¤ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.</p>
                                
                                <h6>Q4. ì—‘ì…€ íŒŒì¼ ì—…ë¡œë“œì™€ ì§ì ‘ ì…ë ¥ì˜ ì°¨ì´ëŠ” ë¬´ì—‡ì¸ê°€ìš”?</h6>
                                <p>ì—‘ì…€ íŒŒì¼ ì—…ë¡œë“œëŠ” ì—¬ëŸ¬ ì§ì›ì„ í•œ ë²ˆì— ì²˜ë¦¬í•  ë•Œ ìœ ìš©í•˜ê³ , ì§ì ‘ ì…ë ¥ì€ 1-2ëª…ì˜ ì§ì›ì„ ë¹ ë¥´ê²Œ ì²˜ë¦¬í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.</p>
                                
                                <h6>Q5. ì…ë ¥í•œ ì •ë³´ëŠ” ì €ì¥ë˜ë‚˜ìš”?</h6>
                                <p>í˜„ì¬ëŠ” ì„¸ì…˜ì—ë§Œ ì €ì¥ë˜ë©°, í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ë©´ ì‚¬ë¼ì§‘ë‹ˆë‹¤. ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ ê²½ìš° ê³„ì‚° ê²°ê³¼ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ë©ë‹ˆë‹¤.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ë¹ ë¥¸ ì‚¬ìš© ê°€ì´ë“œ -->
        <div class="card mt-4">
            <div class="card-body">
                <h5 class="card-title">ğŸ“‹ ë¹ ë¥¸ ì‚¬ìš© ê°€ì´ë“œ</h5>
                <ol>
                    <li>í•„ìˆ˜ ì •ë³´ë¥¼ ì…ë ¥í•˜ì„¸ìš”: ì´ë¦„, ì£¼ë¯¼ë²ˆí˜¸ ì•ìë¦¬, ì…ì‚¬ì¼, ê¸°ë³¸ê¸‰, ë¶€ì–‘ê°€ì¡±ìˆ˜</li>
                    <li>ì„ íƒ ì •ë³´ë¥¼ ì…ë ¥í•˜ì„¸ìš”: ì—°ì¥ê·¼ë¬´ì‹œê°„, ì—°ì¥ê·¼ë¬´ë‹¨ê°€(ê¶Œì¥ê°’ ìë™ ê³„ì‚°), ìƒì—¬ê¸ˆ ë“±</li>
                    <li>ì§€ê¸‰ ê¸°ê°„ê³¼ ì¶œë ¥ í˜•ì‹ì„ ì„ íƒí•˜ì„¸ìš”</li>
                    <li>ì…ë ¥ ì¤‘ ì‹¤ì‹œê°„ìœ¼ë¡œ ê³„ì‚° ê²°ê³¼ë¥¼ ë¯¸ë¦¬ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                    <li>ëª¨ë“  ì •ë³´ë¥¼ ì…ë ¥í•œ í›„ "ê¸‰ì—¬ëª…ì„¸ì„œ ìƒì„±" ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”</li>
                </ol>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/payroll_input.js') }}"></script>
<script>
    // í˜„ì¬ ë‚ ì§œë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •
    document.addEventListener('DOMContentLoaded', function() {
        const now = new Date();
        const year = now.getFullYear();
        const month = String(now.getMonth() + 1).padStart(2, '0');
        const periodField = document.getElementById('period');
        if (periodField && !periodField.value) {
            periodField.value = `${year}-${month}`;
        }
    });
</script>
{% endblock %}

